<div class="login-container">
  <p-card styleClass="login-card">
    <ng-template pTemplate="header">
      <div class="login-header">
        <h2>Entregas mapa</h2>
        <p>Login</p>
      </div>
    </ng-template>

    <form (ngSubmit)="onSubmit()" class="login-form">
      <div class="form-group">
        <label for="email" class="block">Email:</label>
        <span class="p-input-icon-left w-full">
          <i class="pi pi-envelope"></i>
          <input 
            type="email" 
            id="email" 
            [(ngModel)]="email" 
            name="email"
            placeholder="Ingresa tu email"
            pInputText
            class="w-full"
            required>
        </span>
      </div>

      <div class="form-group">
        <label for="password" class="block">Contrase침a:</label>
        <span class="p-input-icon-left w-full">
          <i class="pi pi-lock"></i>
          <p-password 
            id="password" 
            [(ngModel)]="password" 
            name="password"
            placeholder="Ingresa tu contrase침a"
            [feedback]="false"
            [toggleMask]="true"
            styleClass="w-full"
            inputStyleClass="w-full"
            required>
          </p-password>
        </span>
      </div>

      <div class="error-message" *ngIf="errorMessage">
        <i class="pi pi-exclamation-triangle"></i> {{ errorMessage }}
      </div>

      <button 
        type="submit" 
        pButton
        label="{{isLoading ? 'Iniciando sesi칩n...' : 'Iniciar Sesi칩n'}}"
        icon="pi pi-sign-in"
        [loading]="isLoading"
        class="w-full p-button-primary">
      </button>
    </form>

    <p-divider></p-divider>

    <!-- Toggle credentials button -->
    <div class="toggle-credentials">
      <button 
        type="button" 
        pButton
        pRipple
        (click)="toggleCredentials()"
        label="{{ showCredentials ? 'Ocultar credenciales' : 'Mostrar credenciales' }}"
        icon="{{ showCredentials ? 'pi pi-eye-slash' : 'pi pi-eye' }}"
        class="p-button-text p-button-secondary p-button-sm">
      </button>
    </div>

    <!-- Credenciales de prueba -->
    <div class="test-credentials" *ngIf="showCredentials">
      <h4>Credenciales:</h4>
      
      <div class="credentials-section">
        <h5>Administrador:</h5>
        <p-card styleClass="credential-card admin-card">
          <div class="credential-item">
            <div class="credential-info">
              <p class="credential-email">admin&#64;delivery.com</p>
              <p class="credential-password">admin123</p>
            </div>
            <button 
              type="button" 
              pButton
              pRipple
              icon="pi pi-user"
              label="Usar credenciales"
              class="p-button-outlined p-button-danger p-button-sm"
              (click)="fillTestCredentials('admin')">
            </button>
          </div>
        </p-card>
      </div>

      <div class="credentials-section">
        <h5>Delivery:</h5>
        <div class="delivery-credentials">
          <p-card styleClass="credential-card delivery-card">
            <div class="credential-item">
              <div class="credential-info">
                <p class="credential-email">juan&#64;delivery.com</p>
                <p class="credential-password">juan123</p>
              </div>
              <button 
                type="button" 
                pButton
                pRipple
                icon="pi pi-user"
                label="Usar credenciales"
                class="p-button-outlined p-button-success p-button-sm"
                (click)="fillTestCredentials('delivery', 0)">
              </button>
            </div>
          </p-card>
          
          <p-card styleClass="credential-card delivery-card">
            <div class="credential-item">
              <div class="credential-info">
                <p class="credential-email">maria&#64;delivery.com</p>
                <p class="credential-password">maria123</p>
              </div>
              <button 
                type="button" 
                pButton
                pRipple
                icon="pi pi-user"
                label="Usar credenciales"
                class="p-button-outlined p-button-success p-button-sm"
                (click)="fillTestCredentials('delivery', 1)">
              </button>
            </div>
          </p-card>
          
          <p-card styleClass="credential-card delivery-card">
            <div class="credential-item">
              <div class="credential-info">
                <p class="credential-email">carlos&#64;delivery.com</p>
                <p class="credential-password">carlos123</p>
              </div>
              <button 
                type="button" 
                pButton
                pRipple
                icon="pi pi-user"
                label="Usar credenciales"
                class="p-button-outlined p-button-success p-button-sm"
                (click)="fillTestCredentials('delivery', 2)">
              </button>
            </div>
          </p-card>
          
          <p-card styleClass="credential-card delivery-card">
            <div class="credential-item">
              <div class="credential-info">
                <p class="credential-email">ana&#64;delivery.com</p>
                <p class="credential-password">ana123</p>
              </div>
              <button 
                type="button" 
                pButton
                pRipple
                icon="pi pi-user"
                label="Usar credenciales"
                class="p-button-outlined p-button-success p-button-sm"
                (click)="fillTestCredentials('delivery', 3)">
              </button>
            </div>
          </p-card>
        </div>
      </div>
    </div>
  </p-card>
</div>